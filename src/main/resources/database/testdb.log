/*C21*/SET SCHEMA PUBLIC
drop table banks if exists
drop table clients if exists
drop table credit_offers if exists
drop table credits if exists
drop table payment_schedules if exists
create table banks (id bigint generated by default as identity (start with 1), client_id bigint not null, credit_in_bank_id bigint not null, primary key (id))
create table clients (id bigint generated by default as identity (start with 1), email varchar(255), firstname varchar(255) not null, lastname varchar(255) not null, middlename varchar(255), passport varchar(255) not null, phonenumber varchar(255), primary key (id))
create table credit_offers (id bigint generated by default as identity (start with 1), bank_id bigint not null, credit_amount bigint not null, client_id bigint not null, credit_id bigint not null, payment_schedule_id bigint not null, primary key (id))
create table credits (id bigint generated by default as identity (start with 1), credit_limit bigint not null, credit_procent double not null, primary key (id))
create table payment_schedules (id bigint generated by default as identity (start with 1), day_of_payment date not null, payment_amount double not null, repayment_body double not null, repayment_procent double not null, primary key (id))
alter table clients add constraint UK_54fgymqoqds6tm1pd35wxfctq unique (passport)
alter table banks add constraint FKnbvkw16dr0tc18u3k4phknuma foreign key (client_id) references clients
alter table banks add constraint FKi3sg73cube4q6b5psu0qccbl4 foreign key (credit_in_bank_id) references credits
alter table credit_offers add constraint FKgfndwt4hfodr71sqwl0msw65u foreign key (client_id) references clients
alter table credit_offers add constraint FKjaio5buq4xxw081c8ill1b5da foreign key (credit_id) references credits
alter table credit_offers add constraint FKtnocoarviok3s78yvotqnn53a foreign key (payment_schedule_id) references payment_schedules
alter table banks drop constraint FKnbvkw16dr0tc18u3k4phknuma
alter table banks drop constraint FKi3sg73cube4q6b5psu0qccbl4
alter table credit_offers drop constraint FKgfndwt4hfodr71sqwl0msw65u
alter table credit_offers drop constraint FKjaio5buq4xxw081c8ill1b5da
alter table credit_offers drop constraint FKtnocoarviok3s78yvotqnn53a
drop table banks if exists
drop table clients if exists
drop table credit_offers if exists
drop table credits if exists
drop table payment_schedules if exists
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
